<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Jeu de Devinette</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #232526 0%, #414345 100%);
            color: #fff;
            min-height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .jeu-container {
            background: rgba(40, 44, 52, 0.95);
            padding: 2.5em 3.5em;
            border-radius: 25px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            text-align: center;
            border: 2px solid #4caf50;
            transition: box-shadow 0.3s;
        }
        .jeu-container:hover {
            box-shadow: 0 0 40px #4caf50aa;
        }
        h1 {
            color: #4caf50;
            margin-bottom: 0.5em;
        }
        p {
            margin-top: 0;
            margin-bottom: 1.5em;
            color: #b2dfdb;
        }
        input[type="number"] {
            width: 70px;
            padding: 0.6em;
            font-size: 1.2em;
            border-radius: 8px;
            border: 1px solid #4caf50;
            margin-right: 1em;
            background: #222;
            color: #fff;
        }
        button {
            padding: 0.6em 1.7em;
            font-size: 1em;
            border-radius: 8px;
            border: none;
            background: #4caf50;
            color: #fff;
            cursor: pointer;
            margin-top: 0.5em;
            transition: background 0.2s;
        }
        button:disabled {
            background: #888;
            cursor: not-allowed;
        }
        #rejouer {
            display: none;
            margin-top: 1em;
            background: #2196f3;
        }
        .message {
            margin-top: 1.5em;
            font-size: 1.15em;
            min-height: 2em;
            color: #ffd600;
        }
    </style>
</head>
<body>
    <div class="jeu-container">
        <h1>Devinez le chiffre secret !</h1>
        <p>Entre 0 et 9. Vous avez <span id="essais">3</span> essais.</p>
        <input type="number" id="proposition" min="0" max="9" />
        <button id="valider">Valider</button>
        <button id="rejouer">Rejouer</button>
        <div class="message" id="message"></div>
        <!-- Sons -->
        <audio id="son-bien" src="https://cdn.pixabay.com/audio/2022/10/16/audio_12b6b1b6e8.mp3"></audio>
        <audio id="son-mal" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b9e2c3b.mp3"></audio>
        <audio id="son-perdu" src="https://cdn.pixabay.com/audio/2022/10/16/audio_12b6b1b6e8.mp3"></audio>
    </div>
    <script>
        let chiffreSecret = Math.floor(Math.random() * 10);
        let essaisRestants = 3;

        const essaisSpan = document.getElementById('essais');
        const messageDiv = document.getElementById('message');
        const input = document.getElementById('proposition');
        const btn = document.getElementById('valider');
        const rejouerBtn = document.getElementById('rejouer');

        // Sons
        const sonBien = document.getElementById('son-bien');
        const sonMal = document.getElementById('son-mal');
        const sonPerdu = document.getElementById('son-perdu');

        btn.addEventListener('click', () => {
            const valeur = Number(input.value);
            if (isNaN(valeur) || valeur < 0 || valeur > 9) {
                messageDiv.textContent = "Veuillez entrer un chiffre entre 0 et 9.";
                return;
            }
            if (valeur === chiffreSecret) {
                messageDiv.textContent = "Bravo ! Vous avez trouvé le chiffre secret !";
                btn.disabled = true;
                input.disabled = true;
                rejouerBtn.style.display = 'inline-block';
                sonBien.currentTime = 0; sonBien.play();
            } else {
                essaisRestants--;
                essaisSpan.textContent = essaisRestants;
                if (essaisRestants === 0) {
                    messageDiv.textContent = `Désolé, vous avez perdu. Le chiffre secret était : ${chiffreSecret}`;
                    btn.disabled = true;
                    input.disabled = true;
                    rejouerBtn.style.display = 'inline-block';
                    sonPerdu.currentTime = 0; sonPerdu.play();
                } else {
                    messageDiv.textContent = "Mauvaise réponse, essayez encore !";
                    sonMal.currentTime = 0; sonMal.play();
                }
            }
            input.value = '';
            input.focus();
        });

        rejouerBtn.addEventListener('click', () => {
            chiffreSecret = Math.floor(Math.random() * 10);
            essaisRestants = 3;
            essaisSpan.textContent = essaisRestants;
            messageDiv.textContent = '';
            btn.disabled = false;
            input.disabled = false;
            input.value = '';
            input.focus();
            rejouerBtn.style.display = 'none';
        });
    </script>
</body>
</html>